FROM golang:1.22-alpine

COPY main /main

ENV POSTGRES_USERNAME
ENV POSTGRES_DATABASE
ENV POSTGRES_PASSWORD
ENV POSTGRES_PORT
ENV POSTGRES_HOST

RUN chmod +x /app/main

EXPOSE 8080

ENTRYPOINT ["/main"]